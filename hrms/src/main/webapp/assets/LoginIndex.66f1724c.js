import{a as n,C as N,_ as P,f as U,u as A,e as S,D as j,r as u,o as V,c as B,i as p,w as i,k as a,U as T,b as g,p as z,l as $}from"./index.bbbda2ab.js";import{u as C,l as E}from"./channel.9989d84c.js";import{u as F}from"./limit.231b0a95.js";import"./request.5f96fccc.js";var H={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const M=H;function v(e){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?Object(arguments[t]):{},c=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&(c=c.concat(Object.getOwnPropertySymbols(s).filter(function(l){return Object.getOwnPropertyDescriptor(s,l).enumerable}))),c.forEach(function(l){q(e,l,s[l])})}return e}function q(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var f=function(t,s){var c=v({},t,s.attrs);return n(N,v({},c,{icon:M}),null)};f.displayName="LockOutlined";f.inheritAttrs=!1;const D=f,R="/assets/logBg.2892dcd0.png",G="/assets/login.6be2fd1b.jpg";const b=e=>(z("data-v-d40090b5"),e=e(),$(),e),J={class:"bg"},Q=b(()=>p("img",{src:R},null,-1)),W=b(()=>p("nav",null,[p("img",{src:G})],-1)),X={__name:"LoginIndex",setup(e){const t=U(),s=C(),c=F(),l=A();let r=S({loginName:"13800000002",password:"123456",isAgree:!1});const h=(_,o)=>o?Promise.resolve():Promise.reject(new Error("\u8BF7\u52FE\u9009\u7528\u6237\u534F\u8BAE!")),k=j(()=>!(r.loginName&&r.password));async function w(_){const o=await E(_);t.updateToken(o.token),s.updateUser(o.object),c.updateLimit(o.listTwo),l.push({name:"layout"})}return(_,o)=>{const O=u("a-input"),m=u("a-form-item"),x=u("a-input-password"),L=u("a-checkbox"),y=u("a-button"),I=u("a-form");return V(),B("div",J,[Q,W,p("section",null,[n(I,{name:"normal_login",class:"login-form",model:a(r),onFinish:w},{default:i(()=>[n(m,{label:"Username",name:"loginName",rules:[{required:!0,message:"\u7528\u6237\u540D\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:/^1[3-9]\d{9}$/,message:"\u4E0D\u7B26\u5408\u624B\u673A\u683C\u5F0F"}]},{default:i(()=>[n(O,{value:a(r).loginName,"onUpdate:value":o[0]||(o[0]=d=>a(r).loginName=d)},{prefix:i(()=>[n(a(T),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),n(m,{label:"Password",name:"password",rules:[{required:!0,message:"\u8F93\u5165\u4E0D\u80FD\u4E3A\u7A7A!"},{pattern:/^\S{6,15}$/,message:"\u5FC5\u987B\u662F6-15\u7684\u975E\u7A7A\u767D\u5B57\u7B26"}]},{default:i(()=>[n(x,{value:a(r).password,"onUpdate:value":o[1]||(o[1]=d=>a(r).password=d)},{prefix:i(()=>[n(a(D),{class:"site-form-item-icon"})]),_:1},8,["value"])]),_:1}),n(m,{name:"isAgree",rules:[{validator:h}]},{default:i(()=>[n(L,{checked:a(r).isAgree,"onUpdate:checked":o[2]||(o[2]=d=>a(r).isAgree=d)},{default:i(()=>[g("User Platform Use Agreement")]),_:1},8,["checked"])]),_:1},8,["rules"]),n(m,null,{default:i(()=>[n(y,{disabled:a(k),type:"primary",block:"",htmlType:"submit"},{default:i(()=>[g("Log in")]),_:1},8,["disabled"])]),_:1})]),_:1},8,["model"])])])}}},te=P(X,[["__scopeId","data-v-d40090b5"]]);export{te as default};
